include ../../../Source/make_opts

LIBDIR = ../../../lib/
PROG   = check
LOOPLIB= libMadLoop.a
LINKLIBS =  -L$(LIBDIR) -lcts -ldhelas -lmodel
LIBS =  $(LIBDIR)libcts.$(libext) $(LIBDIR)libdhelas.$(libext) $(LIBDIR)libmodel.$(libext)
PROCESS= loop_matrix.o born_matrix.o loop_num.o CT_interface.o $(patsubst %.f,%.o,$(wildcard helas_calls_*.f)) $(patsubst %.f,%.o,$(wildcard jamp?_calls_*.f))

all: $(PROG) $(LOOPLIB)

$(PROG):  $(PROCESS) makefile $(LIBS) check_sa.o
	$(FC) $(FFLAGS) -o $(PROG) $(PROCESS) check_sa.o $(LINKLIBS)
$(LOOPLIB):  
	@ar cr $(LOOPLIB) $(PROCESS)

clean:
		@rm -f *.o
